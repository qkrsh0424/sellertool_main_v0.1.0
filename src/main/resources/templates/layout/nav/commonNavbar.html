<th:block th:fragment="commonNavbar">
  <nav class="navbar navbar-expand-lg pcy-nav">
    <a class="navbar-brand" href="/"><img src="/images/icon/favicon.ico/android-icon-192x192.png" width="20" height="20"
        alt="" loading="lazy"> SellerTool</a>
    <button class="pcy-nav-toggle-btn navbar-toggler" type="button" data-toggle="collapse"
      data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false"
      aria-label="Toggle navigation">
      <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-list" fill="currentColor"
        xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd"
          d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
      </svg>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav mr-auto">

        <a class="nav-link" href="/margin/nonmem/dashboard" title="누적 수익 계산기">누적 수익 계산기</a>
        <a class="nav-link" href="/margin/dashboard" title="마진율 계산기">마진율 계산기</a>
        <a class="nav-link" href="/rank/naver" title="네이버 랭킹">네이버 랭킹</a>
        <a class="nav-link" href="/calculate/vat" title="부가세 계산기">부가세 계산기</a>
        <!-- <a class="nav-link" href="http://multranslator.com">멀티번역기</a> -->
        <a class="nav-link" href="/profit" title="순수익 계산기">순수익 계산기</a>
      </div>
      <div class="navbar-nav">
        <th:block th:if="${data}">
          <button type="button" style="background: none; border:none; color:white; outline:none;"
            id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-person-circle" fill="currentColor"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z" />
              <path fill-rule="evenodd" d="M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
              <path fill-rule="evenodd" d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z" />
            </svg>
          </button>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
            <div class="dropdown-item" th:text="${data.name}+님"></div>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/profile">프로필</a>
            <!-- TODO LOGOUT AJAX로 넘기기 -->
            <form th:if="${@environment.getProperty('app.environment')=='production'}"
              th:action="${@environment.getProperty('app.environment.production.auth.url')}+'/api/logout'"
              method="post">
              <input hidden th:name="X-XSRF-TOKEN" th:value="${_csrf.token}" id="_csrf">
              <input class="dropdown-item" type="submit" value="로그아웃">
            </form>
            <form th:if="${@environment.getProperty('app.environment')=='development'}"
              th:action="${@environment.getProperty('app.environment.development.auth.url')}+'/api/logout'"
              method="post">
              <input hidden name="X-XSRF-TOKEN" th:value="${_csrf.token}" id="_csrf">
              <input class="dropdown-item" type="submit" value="로그아웃">
            </form>
          </div>

        </th:block>
        <th:block th:unless="${data}">

          <a th:if="${@environment.getProperty('app.environment')=='production'}" class="nav-link"
            th:href="${@environment.getProperty('app.environment.production.auth.url')+'/login'}">로그인</a>
          <a th:if="${@environment.getProperty('app.environment')=='development'}" class="nav-link"
            th:href="${@environment.getProperty('app.environment.development.auth.url')+'/login'}">로그인</a>
          <a th:if="${@environment.getProperty('app.environment')=='production'}" class="nav-link"
            th:href="${@environment.getProperty('app.environment.production.auth.url')+'/signup'}">회원가입</a>
          <a th:if="${@environment.getProperty('app.environment')=='development'}" class="nav-link"
            th:href="${@environment.getProperty('app.environment.development.auth.url')+'/signup'}">회원가입</a>
        </th:block>
      </div>
      <div style="display: inline-block;">
        <span style="margin-left: 10px;"><a href="https://blog.naver.com/pcysammai" target="_blank">
          <img src="/images/icon/common/ft_icon01.png" alt="네이버 블로그 아이콘" width='34'></a></span>
        <span style="margin-left: 10px;"><a href="https://www.youtube.com/channel/UCG7aGpryd6DbGBGDzfFqrDg"
            target="_blank"><img src="/images/icon/common/ft_icon04.png" alt="유튜브 아이콘" width='34'></a></span>
      </div>
    </div>
  </nav>
</th:block>